openapi: 3.0.3
info:
    version: '1.0'
    title: "E-Commerce assignment"
    description: API for an E-Commerce.
    license:
      name: MIT
servers:
  - url: localhost:3000/api/v1
    description: Localhost webserver
components:
  schemas:
    Product:
      type: object
      properties:
        self:
          type: string
          example: /products/2
        name:
          type: string
          example: 'Tablet 8 4/64 GB'
        image:
          type: string
          example: '/res/productid/image.png'
        description:
          type: string
          example: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.'
        price:
          type: float
          example: 69
paths:
    /products:
      post:
        description: Add a new product and returns it
        summary: Add a new product
        requestBody:
          content:
            application/json:
              schema:
                type: object
                required:
                  - name
                  - image
                  - description
                  - price
                  - amount
                  - userId
                properties:
                  name:
                    type: string
                    example: 'Tablet 8 4/64 GB'
                  image:
                    type: string
                    example: '/res/productid/image.png'
                  description:
                    type: string
                    example: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.'
                  price:
                    type: number
                    example: 69.50
                  amount:
                    type: number
                    example: 25
                  userId:
                    type: string
                    example: 5fb291268c27d33204eaf0d3
        responses:
          "201":
            description: New product added
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Product'
          "400":
            description: Error, bad request (wrong data type in a field)
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Product'
          
    /products/id:
      put:
        description: Updates a specific product by an identifier
        summary: Update product
        responses:
          "200":
            description: Product object by id
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Product'
          "500":
            description: Error, wrong request to the database
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Product'
          "400":
            description: Error, bad request (wrong data type in a field)
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Product'
          "404":
            description: Error, product not found
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Product'
          
      delete:
        description: Remove a product from the shop
        summary: Remove product
        responses:
          "200":
            description: Removed product
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Product'
          "500":
            description: Error, wrong request to the database
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Product'
          "404":
            description: Error, product not found
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Product'
